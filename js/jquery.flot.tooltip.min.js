/*
 * jquery.flot.tooltip
 * 
 * description: easy-to-use tooltips for Flot charts
 * version: 0.4.4
 * author: Krzysztof Urbas @krzysu [myviews.pl]
 * website: https://github.com/krzysu/flot.tooltip
 * 
 * build on 2012-12-29
 * released under MIT License, 2012
*/
(function(a){var b={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y.2",dateFormat:"%y-%0m-%0d",shifts:{x:10,y:20},defaultTheme:!0}},c=function(b){var c={x:0,y:0},d=b.getOptions(),e=function(a){c.x=a.x,c.y=a.y},f=function(a){var b={x:0,y:0};b.x=a.pageX,b.y=a.pageY,e(b)},g=function(b){var c=new Date(b);return a.plot.formatDate(c,d.tooltipOpts.dateFormat)};b.hooks.bindEvents.push(function(b,e){var i=d.tooltipOpts,j=b.getPlaceholder(),k;if(d.tooltip===!1)return;a("#flotTip").length>0?k=a("#flotTip"):(k=a("<div />").attr("id","flotTip"),k.appendTo("body").hide().css({position:"absolute"}),i.defaultTheme&&k.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111"})),a(j).bind("plothover",function(a,b,e){if(e){var f;d.xaxis.mode==="time"||d.xaxes[0].mode==="time"?f=h(i.content,e,g):f=h(i.content,e),k.html(f).css({left:c.x+i.shifts.x,top:c.y+i.shifts.y}).show()}else k.hide().html("")}),e.mousemove(f)});var h=function(a,b,c){var d=/%p\.{0,1}(\d{0,})/,e=/%s/,f=/%x\.{0,1}(\d{0,})/,g=/%y\.{0,1}(\d{0,})/;return typeof b.series.percent!="undefined"&&(a=i(d,a,b.series.percent)),typeof b.series.label!="undefined"&&(a=a.replace(e,b.series.label)),typeof c=="function"?a=a.replace(f,c(b.series.data[b.dataIndex][0])):typeof b.series.data[b.dataIndex][0]=="number"&&(a=i(f,a,b.series.data[b.dataIndex][0])),typeof b.series.data[b.dataIndex][1]=="number"&&(a=i(g,a,b.series.data[b.dataIndex][1])),a},i=function(a,b,c){var d;return b.match(a)!=="null"&&(RegExp.$1!==""&&(d=RegExp.$1,c=c.toFixed(d)),b=b.replace(a,c)),b}};a.plot.plugins.push({init:c,options:b,name:"tooltip",version:"0.4.4"})})(jQuery);